# 무하유 팀원용 라벨링 도구 (카테고리 분류)

> **목적**: 최종 독립 평가용 1200개 데이터의 카테고리별 라벨링  
> **작성자**: 박상원  
> **버전**: 2.0

---

## 📋 개요

### 특징
- ✅ **완전 수동 라벨링** (YOLO 없음)
- ✅ **10개 카테고리** 세분화
- ✅ 4개 폴더 통합 라벨링 (인당 400개)
- ✅ **파일 해시 기반 중복 검출** - 파일명이 달라도 동일한 파일 자동 제외
- ✅ **최종 독립 평가용** (학습에 사용 금지!)
- ⚠️ 3개 모델을 1200개 데이터로 공정하게 비교

### 10개 카테고리
1. weapons (무기)
2. violence (폭력)
3. alcohol (음주)
4. smoking (흡연)
5. drugs (약물)
6. blood (혈액/상처)
7. threat (위협)
8. sexual (성적콘텐츠)
9. dangerous (위험행동)
0. safe (안전)
S. skip (건너뛰기 - 평가 제외)

### ⚠️ 중요: 폴더 이름 ≠ 최종 라벨
- **폴더 이름**: 수집 시 예상 분류
- **수동 라벨**: 실제로 본 정확한 판단 ✅
- 예: "비디오" 폴더에 있어도 → 0 (안전) 선택 가능
- 예: "안전_비디오" 폴더에 있어도 → 1-9 (유해) 선택 가능
- **최종 평가는 수동 선택한 카테고리 기준!**

---

## 🚀 빠른 시작

### 1. 설치
```bash
pip install opencv-python numpy
```

### 2. 폴더 구조
```
무하유_유해콘텐츠_데이터_모델선정/
├── 2_실제_수집_데이터/
│   ├── 박상원/
│   │   ├── 이미지/
│   │   ├── 안전_이미지/
│   │   ├── 비디오/
│   │   └── 안전_비디오/
│   ├── 안지산/ (동일)
│   └── 임영재/ (동일)
│
└── 3_라벨링_파일/
    ├── 박상원/
    │   └── 박상원_labels_categorized.json
    ├── 안지산/
    └── 임영재/
```

### 3. 설정
`team_labeling_tool_with_category.py`:
```python
TEAM_MEMBER_NAME = "박상원"  # ← 이름만 수정!
```

### 4. 실행
```bash
python team_labeling_tool_with_category.py
```

### 5. 라벨링
- **0-9 키**: 카테고리 선택
- **S**: 건너뛰기
- **Q**: 종료

---

## 📊 출력

### 파일 위치
```
3_라벨링_파일/{이름}/{이름}_labels_categorized.json
```

### 형식
```json
{
  "image_001.jpg": {
    "type": "image",
    "source_folder": "이미지",
    "category": "weapons",
    "category_label": "무기",
    "is_harmful": true
  }
}
```

---

## 💡 카테고리 선택 가이드

### 우선순위 (여러 유형이 섞인 경우)
1. 무기 > 2. 약물 > 3. 성적콘텐츠 > 4. 폭력 > 5. 위협 > 6. 혈액 > 7. 위험행동 > 8. 흡연 > 9. 음주

### 예시
- 칼 들고 싸우기 → **1** (무기)
- 유해한지 애매함 → **0** (안전)
- 모르겠음 → **S** (건너뛰기)

---

## 📁 파일 구성

```
팀원_라벨링_모델선정/
├── team_labeling_tool_with_category.py    # 메인 도구
├── 팀원_라벨링_가이드_카테고리버전.md     # 상세 가이드 (필독!)
└── README.md                               # 이 파일
```

---

## 🎯 최종 평가 흐름

### ⚠️ 독립 평가 주의!
- **내가 모은 400개를 내 모델 학습에 사용 금지!**
- 1200개 데이터는 오직 **최종 평가용**
- 학습은 기존 데이터로만 진행

### 평가 과정
1. **각자 라벨링** (3명 × 400개 = 1200개)
   - 인당: 안전 이미지 100 + 유해 이미지 100 + 안전 비디오 100 + 유해 비디오 100
2. **모델 평가** (각 모델 → 전체 1200개 데이터)
3. **카테고리별 성능 분석**
4. **최종 모델 선정** (3개 모델 중 최고 선택)

---

## 🔧 문제 해결

| 문제 | 해결 |
|------|------|
| 패키지 설치 오류 | `pip install opencv-python numpy` |
| 폴더가 없다는 오류 | 폴더 구조 확인 |
| 중간에 종료했는데? | 다시 실행하면 이어서 진행됨 |

---

## ✅ 체크리스트

- [ ] 패키지 설치
- [ ] 폴더 구조 확인
- [ ] 이름 수정
- [ ] 라벨링 완료
- [ ] 라벨 파일 생성 확인

---

**상세 가이드**: `팀원_라벨링_가이드_카테고리버전.md` 참고

**끝!**
